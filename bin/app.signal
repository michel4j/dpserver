#!/usr/bin/env python
import argparse
import logging
import pprint

from dpserver.diffsig import file_signal, distl_signal
from szrpc import log

parser = argparse.ArgumentParser(description='Signal Strength')
parser.add_argument('-v',  action='store_true', help='Verbose Logging')
parser.add_argument('images', metavar='images', type=str, nargs='+',  help='Images')
if __name__ == "__main__":
    args = parser.parse_args()
    if args.v:
        log.log_to_console(logging.DEBUG)
    else:
        log.log_to_console(logging.INFO)

    for image in args.images:
        print(f'Signal Strength for Image: {image}')
        report = file_signal(image, 0)
        pprint.pprint(report)
